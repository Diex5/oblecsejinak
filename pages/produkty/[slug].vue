<script setup>
// Mock data pro produkt
const product = ref({
  id: 'tirko-premium-cotton',
  name: 'TIRKO â€“ PrÃ©miovÃ© bavlnÄ›nÃ© triÄko',
  price: 499,
  originalPrice: 699,
  description: 'PrÃ©miovÃ© bavlnÄ›nÃ© triÄko TIRKO kombinuje minimalistickÃ½ design s maximÃ¡lnÃ­m pohodlÃ­m. IdeÃ¡lnÃ­ volba pro kaÅ¾dodennÃ­ noÅ¡enÃ­ dÃ­ky kvalitnÃ­mu materiÃ¡lu a preciznÃ­mu stÅ™ihu.',
  rating: 4.8,
  reviews: 743,
  viewers: 8,
  stock: 'medium', // 'low', 'medium', 'high'
  features: [
    '100% organickÃ¡ bavlna pro dokonalÃ½ komfort',
    'UniverzÃ¡lnÃ­ stÅ™ih, kterÃ½ padne kaÅ¾dÃ© postavÄ›',
    'OdolnÃ½ materiÃ¡l, kterÃ½ si zachovÃ¡ tvar i po mnoha pranÃ­ch',
    'ProdyÅ¡nÃ¡ tkanina zajiÅ¡Å¥ujÃ­cÃ­ svÄ›Å¾est po celÃ½ den',
  ],
  colors: [
    { id: 'black', name: 'ÄŒernÃ¡', hex: '#000000', active: true },
    { id: 'white', name: 'BÃ­lÃ¡', hex: '#FFFFFF', active: false },
    { id: 'gray', name: 'Å edÃ¡', hex: '#9CA3AF', active: false },
  ],
  sizes: [
    { id: 'S', label: 'S', active: false },
    { id: 'M', label: 'M', active: true },
    { id: 'L', label: 'L', active: false },
    { id: 'XL', label: 'XL', active: false },
    { id: 'XXL', label: 'XXL', active: false },
  ],
  images: [
    { src: 'https://merchize.com/wp-content/uploads/2021/07/AOP-T-shirt-3-copy.jpg', alt: 'TIRKO â€“ hlavnÃ­ pohled' },
    { src: 'https://cdn.leonardo.ai/users/522075df-9aa6-4010-a4cc-9c8e1578895b/generations/f2646b7f-5bf7-48b0-80b5-178d4ac0ec5d/segments/4:4:1/Flux_Schnell_a_plain_white_background_with_a_modern_amateursty_3.jpeg', alt: 'TIRKO â€“ detail materiÃ¡lu' },
    { src: 'https://cdn.leonardo.ai/users/522075df-9aa6-4010-a4cc-9c8e1578895b/generations/a7efc090-77f7-4f0d-930a-09f6e77d1088/AlbedoBase_XL_A_modern_and_playful_logo_for_an_online_store_sp_2.jpg', alt: 'TIRKO â€“ detail materiÃ¡lu' },
    { src: 'https://cdn.leonardo.ai/users/522075df-9aa6-4010-a4cc-9c8e1578895b/generations/fd47530a-4ce4-4ef5-9e97-b9902efa9c58/Leonardo_Phoenix_09_A_creative_and_playful_logo_for_an_online_2.jpg', alt: 'TIRKO â€“ detail materiÃ¡lu' },
    { src: 'https://cdn.leonardo.ai/users/522075df-9aa6-4010-a4cc-9c8e1578895b/generations/f2646b7f-5bf7-48b0-80b5-178d4ac0ec5d/segments/2:4:1/Flux_Schnell_a_plain_white_background_with_a_modern_amateursty_1.jpeg', alt: 'TIRKO â€“ pohodlnÃ½ stÅ™ih' },
  ],
  tabs: [
    {
      id: '0',
      label: 'Podrobnosti',
      content: ' <h1>ğŸ”¥ JEDINÃ‰ TRIÄŒKO, KTERÃ‰ POTÅ˜EBUJEÅ ! ğŸ”¥</h1> <p>UÅ¾ tÄ› nebavÃ­ nekvalitnÃ­ hadry, kterÃ© se po pÃ¡r pranÃ­ch roztÃ¡hnou, vyblednou a ztratÃ­ tvar? UÅ¾ nemusÃ­Å¡ hledat dÃ¡l, protoÅ¾e TIRKO je tady! ğŸ‘•âœ¨</p> <p>Toto triÄko nenÃ­ jen obyÄejnÃ½m kusem obleÄenÃ­ â€“ je to revoluce v pohodlÃ­, stylu a kvalitÄ›. VyrobenÃ© z <strong>prvotÅ™Ã­dnÃ­ bavlny</strong>, kterÃ¡ dÃ½chÃ¡, je pÅ™Ã­jemnÃ¡ na dotek a perfektnÄ› drÅ¾Ã­ tvar i po nÄ›kolika pranÃ­ch. To znamenÃ¡, Å¾e nebudeÅ¡ muset znovu a znovu Å™eÅ¡it, jak ti triÄko po nÄ›kolika tÃ½dnech uÅ¾Ã­vÃ¡nÃ­ ztratilo svÅ¯j vzhled. S TIRKEM budeÅ¡ mÃ­t jistotu, Å¾e kaÅ¾dÃ½ den budeÅ¡ vypadat skvÄ›le a cÃ­tit se skvÄ›le!</p> <h2>ProÄ je TIRKO jinÃ© neÅ¾ vÅ¡echno, co znÃ¡Å¡?</h2> <ul> <li><strong>NeuvÄ›Å™itelnÃ½ komfort</strong> â€“ Bavlna, kterÃ¡ dÃ½chÃ¡, tÄ› nebude nikdy tlaÄit ani drÃ¡Å¾dit. UÅ¾ Å¾Ã¡dnÃ© nepohodlnÃ© triko, kterÃ© si po pÃ¡r hodinÃ¡ch chceÅ¡ sundat.</li> <li><strong>PerfektnÃ­ stÅ™ih</strong> â€“ TIRKO je navrÅ¾eno tak, aby ti dokonale sedlo. AÅ¥ uÅ¾ jdeÅ¡ na schÅ¯zku, do mÄ›sta, nebo na vÃ­kendovÃ½ vÃ½let, budeÅ¡ v nÄ›m vypadat a cÃ­tit se skvÄ›le.</li> <li><strong>Odolnost</strong> â€“ ZapomeÅˆ na vybledlÃ© barvy nebo roztahanÃ© Å¡vy. TIRKO zÅ¯stane jako novÃ© i po nÄ›kolika pranÃ­ch.</li> <li><strong>StylovÃ½ design</strong> â€“ Kombinace klasickÃ©ho stÅ™ihu a modernÃ­ho vzhledu, kterÃ½ se hodÃ­ k jakÃ©mukoli outfitu.</p>',
    },
    {
      id: '1',
      label: 'MateriÃ¡ly',
      content: 'TriÄko je vyrobeno z jemnÃ©, prodyÅ¡nÃ© bavlny, kterÃ¡ je Å¡etrnÃ¡ k pokoÅ¾ce. MateriÃ¡l proÅ¡el speciÃ¡lnÃ­m zpracovÃ¡nÃ­m, aby minimalizoval Å¾molkovÃ¡nÃ­ a zajiÅ¡Å¥oval dlouhou Å¾ivotnost. Å vy jsou zesÃ­lenÃ© pro vÄ›tÅ¡Ã­ odolnost a pohodlÃ­ pÅ™i noÅ¡enÃ­.',
    },
    {
      id: '2',
      label: 'ÃšdrÅ¾ba',
      content: 'Pro zachovÃ¡nÃ­ kvality doporuÄujeme prÃ¡t naruby na 30 Â°C s podobnÃ½mi barvami. NepouÅ¾Ã­vejte bÄ›lidla ani agresivnÃ­ pracÃ­ prostÅ™edky. SuÅ¡te volnÄ› na vzduchu a Å¾ehlete na nÃ­zkou teplotu. Pro maximÃ¡lnÃ­ ochranu materiÃ¡lu nepouÅ¾Ã­vejte suÅ¡iÄku.Pro zachovÃ¡nÃ­ kvality doporuÄujeme prÃ¡t naruby na 30 Â°C s podobnÃ½mi barvami. NepouÅ¾Ã­vejte bÄ›lidla ani agresivnÃ­ pracÃ­ prostÅ™edky. SuÅ¡te volnÄ› na vzduchu a Å¾ehlete na nÃ­zkou teplotu. Pro maximÃ¡lnÃ­ ochranu materiÃ¡lu Pro zachovÃ¡nÃ­ kvality doporuÄujeme prÃ¡t naruby na 30 Â°C s podobnÃ½mi barvami. NepouÅ¾Ã­vejte bÄ›lidla ani agresivnÃ­ pracÃ­ prostÅ™edky. SuÅ¡te volnÄ› na vzduchu a Å¾ehlete na nÃ­zkou teplotu. Pro maximÃ¡lnÃ­ ochranu materiÃ¡luPro zachovÃ¡nÃ­ kvality doporuÄujeme prÃ¡t naruby na 30 Â°C s podobnÃ½mi barvami. NepouÅ¾Ã­vejte bÄ›lidla ani agresivnÃ­ pracÃ­ prostÅ™edky. SuÅ¡te volnÄ› na vzduchu a Å¾ehlete na nÃ­zkou teplotu. Pro maximÃ¡lnÃ­ ochranu materiÃ¡luPro zachovÃ¡nÃ­ kvality doporuÄujeme prÃ¡t naruby na 30 Â°C s podobnÃ½mi barvami. NepouÅ¾Ã­vejte bÄ›lidla ani agresivnÃ­ pracÃ­ prostÅ™edky. SuÅ¡te volnÄ› na vzduchu a Å¾ehlete na nÃ­zkou teplotu. Pro maximÃ¡lnÃ­ ochranu materiÃ¡lu',
    },
  ],
  benefits: [
    { icon: 'pi pi-check', text: '100% organickÃ¡ bavlna' },
    { icon: 'pi pi-wind', text: 'ProdyÅ¡nÃ½ a pÅ™Ã­jemnÃ½ materiÃ¡l' },
    { icon: 'pi pi-shirt', text: 'UniverzÃ¡lnÃ­ stÅ™ih' },
  ],
  accordion: [
    {
      value: '0',
      header: 'O produktu',
      content: 'PrÃ©miovÃ© bavlnÄ›nÃ© triÄko TIRKO je navrÅ¾eno s dÅ¯razem na kvalitu a pohodlÃ­. DÃ­ky pouÅ¾itÃ­ 100% organickÃ© bavlny je mimoÅ™Ã¡dnÄ› pÅ™Ã­jemnÃ© na noÅ¡enÃ­ a zÃ¡roveÅˆ Å¡etrnÃ© k Å¾ivotnÃ­mu prostÅ™edÃ­. Je ideÃ¡lnÃ­ jak na volnÃ½ Äas, tak i jako zÃ¡klad kaÅ¾dodennÃ­ho outfitu.',
    },
    {
      value: '1',
      header: 'Doprava a platba',
      content: 'Doprava je zdarma pro objednÃ¡vky nad 1000 KÄ. StandardnÃ­ doruÄenÃ­ probÃ­hÃ¡ do 2-3 pracovnÃ­ch dnÅ¯. NabÃ­zÃ­me platbu kartou, bankovnÃ­m pÅ™evodem nebo na dobÃ­rku. MoÅ¾nost expresnÃ­ho doruÄenÃ­ do druhÃ©ho dne za pÅ™Ã­platek 99 KÄ.',
    },
    {
      value: '2',
      header: 'UdrÅ¾itelnost',
      content: 'TriÄko TIRKO je vyrobeno z organickÃ© bavlny s certifikacÃ­ GOTS, coÅ¾ znamenÃ¡, Å¾e splÅˆuje pÅ™Ã­snÃ© ekologickÃ© a etickÃ© standardy. VÃ½roba probÃ­hÃ¡ v podmÃ­nkÃ¡ch, kterÃ© minimalizujÃ­ spotÅ™ebu vody a eliminujÃ­ Å¡kodlivÃ© chemikÃ¡lie. BalenÃ­ je plnÄ› recyklovatelnÃ©.',
    },
  ],
  recommendation: {
    name: 'PDF - Jak sprÃ¡vnÄ› peÄovat o bavlnÄ›nÃ© obleÄenÃ­',
    originalPrice: 199,
    price: 0,
    image: 'https://fqjltiegiezfetthbags.supabase.co/storage/v1/render/image/public/block.images/blocks/ecommerce/productoverview/product-suggestion.png',
  },
  videoThumbnail: 'https://cdn.leonardo.ai/users/522075df-9aa6-4010-a4cc-9c8e1578895b/generations/a7efc090-77f7-4f0d-930a-09f6e77d1088/AlbedoBase_XL_A_modern_and_playful_logo_for_an_online_store_sp_1.jpg',
})

// Breadcrumb
const home = ref({
  label: 'DomÅ¯',
  icon: 'pi pi-home',
  route: '/',
})

const items = ref([
  { label: 'PÃ¡nskÃ©', route: '/panske' },
  { label: 'Obuv', route: '/panske/obuv' },
  { label: product.value.name },
])

// InteraktivnÃ­ stavy
const count = ref(1)
const selectedColor = ref(product.value.colors.find(c => c.active).id)
const selectedSize = ref(product.value.sizes.find(s => s.active).id)

// PomocnÃ© funkce
const decrementCount = () => {
  if (count.value > 1) {
    count.value -= 1
  }
}

const incrementCount = () => {
  count.value += 1
}

const updateColor = colorId => {
  selectedColor.value = colorId
}

const updateSize = sizeId => {
  selectedSize.value = sizeId
}

// FormÃ¡tovÃ¡nÃ­ ceny
const formatPrice = price => {
  return new Intl.NumberFormat('cs-CZ', { style: 'currency', currency: 'CZK' }).format(price)
}

const addToCart = () => {
  // Tady by byla implementace pÅ™idÃ¡nÃ­ do koÅ¡Ã­ku
  alert(`PÅ™idÃ¡no do koÅ¡Ã­ku: ${product.value.name}, barva: ${currentColor.value.name}, velikost: ${currentSize.value.label}, poÄet: ${count.value}`)
}
</script>

<template>
  <div>
    <div class="container px-6 py-14 md:px-12 lg:px-20 mx-auto">
      <!-- Breadcrumb -->
      <div class="py-4 mb-8">
        <Breadcrumb :home="home" :model="items">
          <template #item="{ item, props }">
            <router-link v-if="item.route" v-slot="{ href, navigate }" :to="item.route" custom>
              <a :href="href" v-bind="props.action" @click="navigate">
                <span class="font-medium text-primary hover:underline px-4 whitespace-nowrap text-base">{{ item.label }}</span>
              </a>
            </router-link>
            <a v-else :href="item.url" :target="item.target" v-bind="props.action">
              <span class="text-surface-700 px-4 whitespace-nowrap text-base">{{ item.label }}</span>
            </a>
          </template>
          <template #separator>
            <i class="pi pi-chevron-right !text-xl !leading-none text-surface-400" />
          </template>
        </Breadcrumb>
      </div>

      <!-- Galerie produktu -->
      <ProductGallery :images="product.images" />

      <div class="mt-16 flex items-start gap-1rem md:gap-2rem lg:flex-row flex-col">
        <!-- Informace o produktu -->
        <ProductInfo
          :name="product.name"
          :description="product.description"
          :features="product.features"
          :tabs="product.tabs"
          :benefits="product.benefits"
        />

        <!-- Sidebar s nÃ¡kupnÃ­mi informacemi -->
        <ProductSidebar
          :price="product.price"
          :original-price="product.originalPrice"
          :rating="product.rating"
          :reviews="product.reviews"
          :viewers="product.viewers"
          :colors="product.colors"
          :sizes="product.sizes"
          :stock="product.stock"
          :count="count"
          :selected-color="selectedColor"
          :selected-size="selectedSize"
          :benefits="product.benefits"
          :recommendation="product.recommendation"
          :video-thumbnail="product.videoThumbnail"
          :format-price="formatPrice"
          @increment-count="incrementCount"
          @decrement-count="decrementCount"
          @update-color="updateColor"
          @update-size="updateSize"
        />
      </div>

      <!-- Accordion -->
    </div>
    <div class="mt-16">
      <TestimonialSlideGradient />
    </div>
    <div container class="mt-16">
      <ProductAccordion :items="product.accordion" />
    </div>
    <!--  <div fixed bottom-0 mx-auto container flex justify-center items-center left-0 w-full z-10>
      <Button icon="pi pi-arrow-down" mx-auto text-1rem bg-primary-500 text-white font-600 md:w="50%" w-full>
        Vybrat barvu a velikost
      </Button>
    </div> -->
  </div>
</template>
